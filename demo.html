<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portal Ujian Daring - SMP Negeri 3 (Demo)</title>

    <!-- Preconnect for performance -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- Styles -->
    <link rel="stylesheet" href="style.css">

    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ðŸŽ“</text></svg>">

    <!-- Meta tags -->
    <meta name="description" content="Portal ujian daring SMP Negeri 3 - Masukkan token Anda untuk mengakses sistem ujian">
    <meta name="theme-color" content="#2ecc71">
</head>
<body>
    <!-- Background decoration -->
    <div class="bg-pattern"></div>

    <div class="container">
        <main class="card">
            <!-- Logo Section -->
            <header class="logo-section">
                <div class="logo-container">
                    <!-- Logo placeholder - ganti dengan smpn3.png -->
                    <div style="width: 120px; height: 120px; background: linear-gradient(135deg, #2ecc71, #27ae60); border-radius: 20px; display: flex; align-items: center; justify-content: center; margin: 0 auto; box-shadow: 0 4px 12px rgba(46, 204, 113, 0.2);">
                        <i class="fas fa-graduation-cap" style="font-size: 3rem; color: white;"></i>
                    </div>
                    <!-- Untuk logo asli, uncomment baris di bawah: -->
                    <!-- <img src="smpn3.png" alt="Logo SMP Negeri 3" class="logo-img"> -->
                </div>
                <h1 class="school-name">SMP NEGERI 3</h1>
                <p class="exam-title">Portal Ujian Daring</p>
            </header>

            <!-- Main Content -->
            <section class="card-content">
                <div class="info-text">
                    <i class="fas fa-info-circle"></i>
                    Masukkan token ujian 5 karakter yang diberikan oleh pengawas ujian
                </div>

                <!-- Token Form (Demo) -->
                <form id="tokenForm" method="post" action="" novalidate>
                    <div class="form-group">
                        <label for="tokenInput" class="input-label">
                            <i class="fas fa-key"></i>
                            Token Ujian
                        </label>
                        <div class="input-container">
                            <input
                                type="text"
                                id="tokenInput"
                                name="token"
                                placeholder="MASUKKAN TOKEN"
                                maxlength="5"
                                required
                                autocomplete="off"
                                pattern="[A-Z0-9]{5}"
                                title="Token harus terdiri dari 5 karakter huruf dan angka"
                                aria-label="Token Ujian"
                                aria-describedby="tokenHelp tokenError"
                            >
                            <div class="input-icon">
                                <i class="fas fa-shield-halved"></i>
                            </div>
                        </div>

                        <!-- Help text -->
                        <div id="tokenHelp" class="help-text">
                            Token terdiri dari 5 karakter kombinasi huruf dan angka
                        </div>
                    </div>

                    <!-- Submit Button -->
                    <button type="submit" class="btn btn-submit" id="submitBtn">
                        <i class="fas fa-sign-in-alt btn-icon"></i>
                        <span>Masuk Ujian</span>
                        <div class="loading-spinner"></div>
                    </button>
                </form>

                <!-- Help Section -->
                <div class="token-help">
                    <button
                        type="button"
                        id="helpBtn"
                        class="btn-help"
                        aria-label="Bantuan token ujian"
                        aria-expanded="false"
                    >
                        <i class="fas fa-question-circle"></i>
                    </button>
                    <div class="help-tooltip" role="tooltip">
                        Hubungi pengawas ujian untuk mendapatkan token akses terbaru
                    </div>
                </div>

                <!-- Security Note -->
                <div class="security-note">
                    <i class="fas fa-shield-alt"></i>
                    <p>
                        <strong>Penting:</strong> Token bersifat rahasia dan hanya berlaku untuk sesi ujian saat ini.
                        Jangan bagikan token kepada orang lain.
                    </p>
                </div>
            </section>

            <!-- Footer -->
            <footer class="card-footer">
                <div class="footer-content">
                    <p class="copyright">
                        <i class="fas fa-copyright"></i>
                        2024 SMP Negeri 3 - Sistem Ujian Daring
                    </p>
                    <div class="footer-links">
                        <button type="button" class="footer-link" id="privacyBtn">
                            <i class="fas fa-user-shield"></i>
                            Privasi
                        </button>
                        <button type="button" class="footer-link" id="helpBtnFooter">
                            <i class="fas fa-life-ring"></i>
                            Bantuan
                        </button>
                    </div>
                </div>
            </footer>
        </main>
    </div>

    <!-- Success Modal -->
    <div class="modal" id="successModal">
        <div class="modal-content">
            <div class="modal-icon">
                <i class="fas fa-check-circle"></i>
            </div>
            <h3>Token Berhasil!</h3>
            <p>Sedang mengalihkan ke halaman ujian...</p>
        </div>
    </div>

    <!-- Privacy Modal -->
    <div class="modal" id="privacyModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Kebijakan Privasi</h3>
                <button type="button" class="modal-close" id="closePrivacy">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <p>Sistem ujian daring kami menjaga privasi dan keamanan data Anda:</p>
                <ul>
                    <li>Token ujian hanya digunakan untuk sesi ujian saat ini</li>
                    <li>Data akses hanya untuk keperluan monitoring keamanan</li>
                    <li>Tidak ada data pribadi yang disimpan tanpa persetujuan</li>
                    <li>Enkripsi data end-to-end untuk keamanan maksimal</li>
                </ul>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Elements
            const tokenForm = document.getElementById('tokenForm');
            const tokenInput = document.getElementById('tokenInput');
            const submitBtn = document.getElementById('submitBtn');
            const helpBtn = document.getElementById('helpBtn');
            const helpTooltip = document.querySelector('.help-tooltip');
            const successModal = document.getElementById('successModal');
            const privacyModal = document.getElementById('privacyModal');
            const privacyBtn = document.getElementById('privacyBtn');
            const helpBtnFooter = document.getElementById('helpBtnFooter');

            // Auto focus on input
            tokenInput.focus();

            // Format input to uppercase and limit to 5 characters
            tokenInput.addEventListener('input', function(e) {
                let value = e.target.value.toUpperCase().replace(/[^A-Z0-9]/g, '');
                if (value.length > 5) {
                    value = value.substring(0, 5);
                }
                e.target.value = value;

                // Remove error state when user starts typing
                if (value.length > 0) {
                    tokenInput.classList.remove('shake');
                    const errorMsg = document.getElementById('tokenError');
                    if (errorMsg) {
                        errorMsg.classList.remove('show');
                    }
                }
            });

            // Form submission (Demo)
            tokenForm.addEventListener('submit', function(e) {
                e.preventDefault();

                const token = tokenInput.value.trim();

                // Validation
                if (token.length !== 5) {
                    showError('Token harus terdiri dari 5 karakter');
                    tokenInput.classList.add('shake');
                    return;
                }

                if (!/^[A-Z0-9]{5}$/.test(token)) {
                    showError('Token hanya boleh mengandung huruf besar dan angka');
                    tokenInput.classList.add('shake');
                    return;
                }

                // Demo: Check for specific test tokens
                const validDemoTokens = ['DEMO1', 'TEST1', 'ABCD1'];
                if (!validDemoTokens.includes(token)) {
                    showError('Token tidak valid. (Demo: coba DEMO1, TEST1, atau ABCD1)');
                    tokenInput.classList.add('shake');
                    return;
                }

                // Show loading state
                submitBtn.classList.add('loading');
                submitBtn.disabled = true;
                tokenInput.disabled = true;

                // Simulate processing
                setTimeout(() => {
                    // Show success modal
                    successModal.classList.add('show');

                    // Reset after 3 seconds
                    setTimeout(() => {
                        successModal.classList.remove('show');
                        submitBtn.classList.remove('loading');
                        submitBtn.disabled = false;
                        tokenInput.disabled = false;
                        tokenInput.value = '';
                        tokenInput.focus();
                    }, 3000);
                }, 1000);
            });

            // Help tooltip functionality
            function showTooltip() {
                helpTooltip.style.opacity = '1';
                helpTooltip.style.visibility = 'visible';
                helpBtn.setAttribute('aria-expanded', 'true');
            }

            function hideTooltip() {
                helpTooltip.style.opacity = '0';
                helpTooltip.style.visibility = 'hidden';
                helpBtn.setAttribute('aria-expanded', 'false');
            }

            helpBtn.addEventListener('mouseenter', showTooltip);
            helpBtn.addEventListener('mouseleave', hideTooltip);
            helpBtn.addEventListener('focus', showTooltip);
            helpBtn.addEventListener('blur', hideTooltip);

            // Touch devices
            helpBtn.addEventListener('click', function(e) {
                e.preventDefault();
                if (helpTooltip.style.visibility === 'visible') {
                    hideTooltip();
                } else {
                    showTooltip();
                    setTimeout(hideTooltip, 4000);
                }
            });

            // Privacy modal
            privacyBtn.addEventListener('click', function() {
                privacyModal.classList.add('show');
                document.body.style.overflow = 'hidden';
            });

            document.getElementById('closePrivacy').addEventListener('click', function() {
                privacyModal.classList.remove('show');
                document.body.style.overflow = '';
            });

            // Help footer button
            helpBtnFooter.addEventListener('click', function() {
                showTooltip();
                setTimeout(hideTooltip, 4000);
            });

            // Close modals on background click
            privacyModal.addEventListener('click', function(e) {
                if (e.target === privacyModal) {
                    privacyModal.classList.remove('show');
                    document.body.style.overflow = '';
                }
            });

            // Keyboard navigation
            document.addEventListener('keydown', function(e) {
                // ESC to close modals
                if (e.key === 'Escape') {
                    if (privacyModal.classList.contains('show')) {
                        privacyModal.classList.remove('show');
                        document.body.style.overflow = '';
                    }
                }

                // Ctrl/Cmd + Enter to submit form
                if ((e.ctrlKey || e.metaKey) && e.key === 'Enter') {
                    if (document.activeElement === tokenInput) {
                        tokenForm.dispatchEvent(new Event('submit'));
                    }
                }
            });

            // Helper functions
            function showError(message) {
                let errorDiv = document.getElementById('tokenError');
                if (!errorDiv) {
                    errorDiv = document.createElement('div');
                    errorDiv.id = 'tokenError';
                    errorDiv.className = 'error-message';
                    errorDiv.setAttribute('role', 'alert');
                    errorDiv.innerHTML = `
                        <i class="fas fa-exclamation-triangle"></i>
                        <span></span>
                    `;
                    tokenInput.parentNode.appendChild(errorDiv);
                }

                errorDiv.querySelector('span').textContent = message;
                errorDiv.classList.add('show');
            }

            // Accessibility enhancements
            tokenInput.addEventListener('invalid', function(e) {
                e.preventDefault();
                const validity = tokenInput.validity;
                let message = '';

                if (validity.valueMissing) {
                    message = 'Token harus diisi';
                } else if (validity.patternMismatch) {
                    message = 'Format token tidak valid';
                } else if (validity.tooShort) {
                    message = 'Token harus 5 karakter';
                }

                showError(message);
                tokenInput.classList.add('shake');
            });
        });
    </script>

    <!-- Additional CSS for demo -->
    <style>
        /* Help text */
        .help-text {
            font-size: 0.85rem;
            color: var(--dark-gray);
            margin-top: 8px;
            text-align: center;
        }

        /* Footer */
        .card-footer {
            margin-top: 32px;
            padding-top: 24px;
            border-top: 1px solid var(--medium-gray);
        }

        .footer-content {
            text-align: center;
        }

        .copyright {
            font-size: 0.8rem;
            color: var(--dark-gray);
            margin-bottom: 12px;
        }

        .footer-links {
            display: flex;
            justify-content: center;
            gap: 20px;
        }

        .footer-link {
            background: none;
            border: none;
            color: var(--primary-green);
            font-size: 0.8rem;
            cursor: pointer;
            transition: var(--transition);
            padding: 4px 8px;
            border-radius: 4px;
        }

        .footer-link:hover {
            background: rgba(46, 204, 113, 0.1);
            color: var(--primary-dark);
        }

        /* Modal styles */
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            padding: 20px;
        }

        .modal.show {
            display: flex;
            animation: fadeIn 0.3s ease-out;
        }

        .modal-content {
            background: var(--pure-white);
            padding: 32px;
            border-radius: 16px;
            max-width: 400px;
            width: 100%;
            text-align: center;
            box-shadow: var(--shadow-lg);
            animation: slideUp 0.3s ease-out;
        }

        .modal-icon {
            font-size: 3rem;
            color: var(--success-green);
            margin-bottom: 16px;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .modal-header h3 {
            margin: 0;
            color: var(--text-dark);
        }

        .modal-close {
            background: none;
            border: none;
            font-size: 1.2rem;
            color: var(--dark-gray);
            cursor: pointer;
            padding: 4px;
            border-radius: 4px;
            transition: var(--transition);
        }

        .modal-close:hover {
            background: var(--light-gray);
        }

        .modal-body {
            text-align: left;
        }

        .modal-body ul {
            margin: 16px 0;
            padding-left: 20px;
        }

        .modal-body li {
            margin-bottom: 8px;
            color: var(--text-dark);
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes slideUp {
            from {
                transform: translateY(20px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        /* Demo notification */
        .demo-notice {
            position: fixed;
            top: 20px;
            right: 20px;
            background: var(--primary-green);
            color: white;
            padding: 12px 20px;
            border-radius: 8px;
            font-size: 0.9rem;
            font-weight: 500;
            box-shadow: var(--shadow-md);
            z-index: 100;
            animation: slideInRight 0.5s ease-out;
        }

        @keyframes slideInRight {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        /* Mobile adjustments */
        @media (max-width: 640px) {
            .footer-links {
                flex-direction: column;
                gap: 8px;
            }

            .modal-content {
                padding: 24px;
            }

            .demo-notice {
                position: relative;
                top: auto;
                right: auto;
                margin-bottom: 20px;
                border-radius: 0;
            }
        }
    </style>

    <!-- Demo notification -->
    <div class="demo-notice">
        <i class="fas fa-flask"></i> Mode Demo - Coba token: DEMO1, TEST1, atau ABCD1
    </div>
</body>
</html>